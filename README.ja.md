# Youhei配列
[English](README.md)|日本語

[qmk_firmware][qmk]

## Install
1. [qmk_firmware][qmk] をクローン
2. このリポジトリを `qmk_firmware/layouts/community/ergodox` にクローン
3. `sh write.sh`を実行

## Base
```
 ------------------------------                     ------------------------------
| Prnt | # | @ | ! | % | $ |   |                   |   | * | ( | ) | ^ | & |Clear |
|  Scr | 3 | 2 | 1 | 5 | 4 |   |                   |   | 8 | 9 | 0 | 6 | 7 |      |
|------------------------------|                   |------------------------------|
|      | Q | C | L | P | J |Cap|                   |   | K | F | U | Y | Z |      |
|      |   |   |   |   |   |Lck|                   |Ins|   |   |   |   |   |      |
|--------------------------|   |                   |   |--------------------------|
|   ?  | O | S | R | N | M |___|                   |___| G | T | E | I | A |  :   |
|   /  |   |   |   |   |   |   |                   |   |   |   |   |   |   |  ;   |
|--------------------------|BS |                   |Del|--------------------------|
|      | X | V | _ | H | B |   |                   |   | W | D | < | > | " |      |
|      |   |   | - |   |   |   | -------   ------- |   |   |   | , | . | ' |      |
------------------------------- | R | L | |Ba |For| ------------------------------
   |   |   | ~ | \ | + |        |Btn|Btn| | ck| wd|        | { | } |Pau|   |   |
   |   |   | ` | | | = |     -----------| |-----------     | [ | ] | se|   |   |
   |   |   |Win|Ctl|Alt|    |Sft|Fn | M | |   |Fn |Sft|    |Alt|Ctl|Win|   |   |
    -------------------     |   |   |Btn| |HP |   |   |     -------------------
                            | S | E |---| |---| T | S |
                            | p | n |Esc| |IME| a | p |
                            | c | t |   | |TGL| b | c |
                             -----------   -----------
```

## Fn layer

```
 ------------------------------                     ------------------------------
|      |   |   |   |   |   |   |                   |   |   |   |   |   |   |      |
|      |F3 |F2 |F1 |F5 |F4 |   |                   |   |F8 |F9 |F10|F6 |F7 |      |
|------------------------------|                   |------------------------------|
|      |   |   |   |   |Num|   |                   |   |   |Le |Ri |   |   |      |
|      |   | 6 | 5 | 4 |Lck|   |                   |   |   |ft |ght|F11|F12|      |
|--------------------------|   |                   |   |--------------------------|
|      |   |   |   |   |   |___|                   |___|Ho |Do |   |   |   |      |
|      | . | 3 | 2 | 1 | 0 |   |                   |   |me |wn |Up |End|App|      |
|--------------------------|   |                   |   |--------------------------|
|      |   |   |   |   |   |   |                   |   |   |Pg |Pg |   |   |      |
|      |   | 9 | 8 | 7 |000|   | -------   ------- |   |   |Dn |Up |   |   |      |
------------------------------- |Vol|Vol| |   |   | ------------------------------
   |   |   |   |   |   |        | Dn| Up| |   |   |        |   |   |   |   |   |
   |   |   |   |   |   |     -----------| |-----------     |   |   |   |   |   |
   |   |   |Win|Ctl|Alt|    |Sft|Fn |Mu | |   |Fn |Sft|    |Alt|Ctl|Win|   |   |
    -------------------     |   |   | te| |   |   |   |     -------------------
                            | S | E |---| |---| T | S |
                            | p | n |   | |   | a | p |
                            | c | t |   | |   | b | c |
                             -----------   -----------
```

## 同時打鍵修飾キー
タップと長押しで区別するタイプの多機能キーの同時打鍵版です。

使用するには
1. `process_simultaneous.c/h` `util_user.c/h`をコピーして、rules.mkのSRCに追加します。
2. `keymap.c` に `process_simultaneous.h` をインクルードします。
3. `process_record_user()` から `process_simultaneous()` を呼び出します。
4. `matrix_scan_user()` から `matrix_scan_simultaneous()` を呼び出します。

## 特殊なキーの説明
WinLck,CtrLck,AltLck,SftLckは修飾キーロックです。CapsLockのように、押すと再度押すまで修飾キーが押されたようになります。

Clearキーは修飾キーロックを一度に解除します。

IMEキーは全角半角キーです。チルダとキーコードが被っているので変換キーに割り当てています。各自で変換キーをインプットメソッドの全角半角切り替えに設定してください。

## クリックキー
反対の手でマウスなどのポインティングデバイスを操作できて便利です。

## [Composeキー](https://en.wikipedia.org/wiki/Compose_key)
Pauseキーに割り当てています。

[これ](https://github.com/h-youhei/myconfig/tree/master/etc/X11/xorg.conf.d/70-keyboard.conf)が設定ファイルです。

/etc/X11/xorg.conf.dに置いてください。

## 日本語入力
[ここ](https://github.com/h-youhei/myconfig/tree/master/init/mozc)に、設定ファイルがあります。mozcの設定ダイアログを開いて、インポートしてください。

keymap.txt には、変換や確定などの操作が定義されています。

kana-table.txt, gyoudan-table.txt には、それぞれかな入力、行段入力用のローマ字テーブルが定義されています。

### かな入力
```
 ----------------------------                     ----------------------------
|      |   |   |   |   |   |   |                   |   |   |   |   |   |   |      |
|      |   |   |   |   |   |   |                   |   |   |   |   |   |   |      |
|------------------------------|                   |------------------------------|
|      |   |ク |カ |ナ |   |   |                   |   |   |エ |オ |   |   |      |
|      | ら| も| か| な| さ|   |                   |   | つ| ん| の| に| を|      |
|--------------------------|   |                   |   |--------------------------|
|      |フ |ワ |サ |タ |マ |___|                   |___|ヤ |ウ |イ |ユ |   |      |
|      | す| こ| し| と| て|   |                   |   | く| う| い| で| が|      |
|--------------------------|   |                   |   |--------------------------|
|      |   |   |ハ |ラ |テ |   |                   |   |ェ |ア |ヨ |   |   |      |
|      | り| き| は| た| ま|   | -------   ------- |   | っ| る| 、| 。| れ|      |
------------------------------- |   |   | |   |   | ------------------------------
   |   |   |   |   |   |        |   |   | |   |   |        |   |   |   |   |   |
   |   |   |   |   |   |     -----------| |-----------     |   |   |   |   |   |
    -------------------     |Sft|   |   | |   |   |Sft|     -------------------
                            |   |   |   | |   |   |   |
                            | S | E |---| |---| T | S |
                            | p | n |   | |   | a | p |
                            | c | t |   | |   | b | c |
                             -----------   -----------
```
単打で打てるようになっていないかなは、各キーの左上のカタカナを行段で組み合わせて入力します。
左手が先だと清音、右手が先だと濁音が入力されます。
濁音がない行は
- ナ ア・ヤ
- マ ァ・ャ
- ラ パ
- ワ ウァ
- ファ ヴァ
が対応します。

[qmk]: https://github.com/qmk/qmk_firmware
